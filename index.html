<!DOCTYPE HTML>
<html>
	<head>
		<title>Isekai Story Taller</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
		<link rel="stylesheet" href="styles.css">
		<script src="scripts/game.js"></script>
		<script src="scripts/systems.js"></script>
		<script src="scripts/managers/canvas_manager.js"></script>
		<script src="scripts/managers/events_manager.js"></script>
		<script src="scripts/managers/resources_manager.js"></script>
	</head>
	<body>
		<canvas id="game"></canvas>
		<script defer>
			
			// Init game
			let game = new Game()
			
			// Init managers
			CanvasManager.init()
			EventsManager.init()
			ResourcesManager.init()
			
			// System registration
			game.registerSystem(new CameraContollerSystem())
			game.registerSystem(new TextureRenderSystem())
			game.registerSystem(new PlayerContollerSystem())
			
			
			// Loading images
			ResourcesManager.loadTexture("rock_tileset", "textures/tilesets/rock.png")
			ResourcesManager.loadTexture("test_entity", "textures/entities/test.png")
			
			// Entities
			let player = game.addEntity({
				"Position" : {x : 10, y : 10}, 
				"Texture" : {texture : "test_entity"},
				"Player" : {},
				"Speed" : {speed : 2},
				"Camera" : {},
			})
			
			let enemy = game.addEntity({
				"Position" : {x : 350, y : 250},
				"Texture" : {texture : "test_entity"},
			})
			
			game.start()
		</script>
	</body>
</html>
